<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Generador de Regex (Español)</title>
  <style>
    /* Estilos */
    body {
      margin: 0;
      padding: 0;
      background-color: #000000;
      color: #ffffff;
      font-family: sans-serif;
    }

    .container {
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }

    h1 {
      margin-top: 0;
    }

    .error {
      color: red;
      margin-bottom: 10px;
    }

    .mod-row {
      margin-bottom: 10px;
    }

    label {
      margin-right: 10px;
    }

    input[type="checkbox"],
    input[type="radio"] {
      margin-right: 5px;
      accent-color: red;
    }

    #resultado {
      width: 60%;
      margin-left: 10px;
    }

    button {
      background-color: #000000;
      color: #ffffff;
      border: 1px solid #ffffff;
      padding: 5px 10px;
      cursor: pointer;
    }

    button:hover {
      background-color: #3c3f41;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Generador de Regex (Español)</h1>

    <div id="error" class="error"></div>

    <!-- Rareza de Objetos -->
    <div class="mod-row">
      <input type="checkbox" id="mod1_check" />
      <label for="mod1_check">Rareza de Objetos</label>
      <input type="radio" name="mod1_radio" id="mod1_low" value="low" checked />
      <label for="mod1_low">&lt;50%</label>
      <input type="radio" name="mod1_radio" id="mod1_high" value="high" />
      <label for="mod1_high">&gt;50%</label>
    </div>

    <!-- Monstruos Raros -->
    <div class="mod-row">
      <input type="checkbox" id="mod2_check" />
      <label for="mod2_check">Monstruos Raros</label>
      <input type="radio" name="mod2_radio" id="mod2_low" value="low" checked />
      <label for="mod2_low">&gt;20%</label>
      <input type="radio" name="mod2_radio" id="mod2_high" value="high" />
      <label for="mod2_high">&gt;50%</label>
    </div>

    <!-- Grupos de Monstruos -->
    <div class="mod-row">
      <input type="checkbox" id="mod3_check" />
      <label for="mod3_check">Grupos de Monstruos</label>
      <input type="radio" name="mod3_radio" id="mod3_low" value="low" checked />
      <label for="mod3_low">&gt;20%</label>
      <input type="radio" name="mod3_radio" id="mod3_high" value="high" />
      <label for="mod3_high">&gt;50%</label>
    </div>

    <!-- Cantidad de Objetos -->
    <div class="mod-row">
      <input type="checkbox" id="mod4_check" />
      <label for="mod4_check">Cantidad de Objetos</label>
      <input type="radio" name="mod4_radio" id="mod4_low" value="low" checked />
      <label for="mod4_low">&gt;10%</label>
      <input type="radio" name="mod4_radio" id="mod4_high" value="high" />
      <label for="mod4_high">&gt;50%</label>
    </div>

    <button onclick="generarRegex()">Generar Regex</button>
    <input type="text" id="resultado" readonly />
    <button onclick="copiarAlPortapapeles()">Copiar</button>
  </div>

  <script>
    // Lista de mods con sus regex asociados
    const mods = [
      {
        checkId: "mod1_check",
        lowRadioId: "mod1_low",
        highRadioId: "mod1_high",
        regex_low:  "r.{11}o.*[1-9]\\d+%",    // >=10%
        regex_high: "rar.*[5-9]\\d+%",       // >=50%
      },
      {
        checkId: "mod2_check",
        lowRadioId: "mod2_low",
        highRadioId: "mod2_high",
        regex_low:  "c\\D{11}m\\D{9}r.*[2-9]\\d+%",   
        regex_high: "c\\D{11}m\\D{9}r.*[5-9]\\d+%",   
      },
      {
        checkId: "mod3_check",
        lowRadioId: "mod3_low",
        highRadioId: "mod3_high",
        regex_low:  "c\\D{11}g\\D{9}m.*[2-9]\\d+%",   
        regex_high: "c\\D{11}g\\D{9}m.*[5-9]\\d+%",   
      },
      {
        checkId: "mod4_check",
        lowRadioId: "mod4_low",
        highRadioId: "mod4_high",
        regex_low:  "c\\D{11}o\\D{7}e.*[1-9]\\d+%",   
        regex_high: "c\\D{11}o\\D{7}e.*[5-9]\\d+%",   
      }
    ];

    function generarRegex() {
      const errorElement = document.getElementById("error");
      const resultadoElement = document.getElementById("resultado");
      errorElement.textContent = "";

      let activos = [];

      for (let mod of mods) {
        const check = document.getElementById(mod.checkId);
        const lowRadio = document.getElementById(mod.lowRadioId);
        const highRadio = document.getElementById(mod.highRadioId);

        if (check.checked) {
          if (lowRadio.checked) {
            activos.push('"' + mod.regex_low + '"');
          } else if (highRadio.checked) {
            activos.push('"' + mod.regex_high + '"');
          }
        }
      }

      if (activos.length === 0) {
        resultadoElement.value = "";
        return;
      }

      if (activos.length > 2) {
        errorElement.textContent = "ERROR: Máximo 2 mods a la vez.";
        resultadoElement.value = "";
        return;
      }

      const resultado = activos.join(" ");
      resultadoElement.value = resultado;
    }

    function copiarAlPortapapeles() {
      const contenido = document.getElementById("resultado").value;
      if (!contenido) return;

      navigator.clipboard.writeText(contenido)
        .then(() => {
          console.log("Texto copiado al portapapeles:", contenido);
        })
        .catch(err => {
          console.error("Error al copiar al portapapeles: ", err);
        });
    }
  </script>
</body>
</html>
